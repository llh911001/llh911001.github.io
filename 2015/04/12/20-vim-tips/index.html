<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>20 个 Vim 实用技巧 | Hackll.com</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="我是 Vim 的忠实用户，从开始编程起，就使用 Vim 作为编辑器。在我看来，Vim 的强大之处有三：

快速定位；
宏；
不计其数的插件。

在使用 Vim 的过程中，我从社区学习到很多有用的技巧，自己也总结和掌握了一些。正是这些技巧让我得以在个人的编程经验中，还算得心应手地使用 Vim。本文是我对自己平常使用的一些用法技巧的分享，这些技巧不借助任何插件，全部是 Vim 本身提供的功能。（当然这">
<meta property="og:type" content="article">
<meta property="og:title" content="20 个 Vim 实用技巧">
<meta property="og:url" content="http://hackll.com/2015/04/12/20-vim-tips/index.html">
<meta property="og:site_name" content="Hackll.com">
<meta property="og:description" content="我是 Vim 的忠实用户，从开始编程起，就使用 Vim 作为编辑器。在我看来，Vim 的强大之处有三：

快速定位；
宏；
不计其数的插件。

在使用 Vim 的过程中，我从社区学习到很多有用的技巧，自己也总结和掌握了一些。正是这些技巧让我得以在个人的编程经验中，还算得心应手地使用 Vim。本文是我对自己平常使用的一些用法技巧的分享，这些技巧不借助任何插件，全部是 Vim 本身提供的功能。（当然这">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="20 个 Vim 实用技巧">
<meta name="twitter:description" content="我是 Vim 的忠实用户，从开始编程起，就使用 Vim 作为编辑器。在我看来，Vim 的强大之处有三：

快速定位；
宏；
不计其数的插件。

在使用 Vim 的过程中，我从社区学习到很多有用的技巧，自己也总结和掌握了一些。正是这些技巧让我得以在个人的编程经验中，还算得心应手地使用 Vim。本文是我对自己平常使用的一些用法技巧的分享，这些技巧不借助任何插件，全部是 Vim 本身提供的功能。（当然这">
<meta name="twitter:creator" content="@lilh42">
<link rel="publisher" href="u/0/108755916357635545032">
  
  
    <link rel="icon" href="/favicon.ico">
    <meta name="theme-color" content="#ffffff">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  
  <style type="text/css">
html {background-color: white}</style>
</head>

<body>
  <div id="container">
    <div id="wrap">
      
  <header id="header" class="small">

  <div id="header-inner" class="">
    <a class="title"><h1>Hackll.com</h1></a>
    <nav id="main-nav">
      <a id="main-nav-toggle" class="nav-icon">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </a>
    </nav>
    <nav id="sub-nav">
      <a id="nav-search-btn" class="nav-icon" title="Search"></a>
    </nav>
    <div id="search-form-wrap">
      <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://hackll.com"></form>
    </div>
  </div>
</header>

      <aside id="sidebar">
  <div id="site-info" class="inner">
    <div id="logo-wrap" class="sidebar-item">
      <div id="logo"></div>
    </div>
    
    <div id="social-wrap" class="clearfix sidebar-item">
    
      <div class="social-item">
        <a id="nav-twitter-link" class="nav-icon" href="https://twitter.com/lilh42" title="Twitter" target="_blank"></a>
      </div>
    
    
      <div class="social-item">
        <a id="nav-github-link" class="nav-icon" href="https://github.com/llh911001" title="Github" target="_blank"></a>
      </div>
    
    
      <div class="social-item">
        <a id="nav-gplus-link" class="nav-icon" href="https://plus.google.com/u/0/108755916357635545032" title="Google plus" target="_blank"></a>
      </div>
    
    
    </div>
    <div class="site-nav sidebar-item">
      <ul>
      
        <li>
          <a href="/">Home</a>
        </li>
      
        <li>
          <a href="/archives">Archives</a>
        </li>
      
        <li>
          <a href="/about">About</a>
        </li>
      
      </ul>
    </div>
  </div>
</aside>

      <div class="outer">
        <section id="main"><article id="post-20-vim-tips" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      20 个 Vim 实用技巧
    </h1>
  


        <div class="article-meta">
          
  <time class="centered" datetime="2015-04-11T16:00:00.000Z" itemprop="datePublished">04/12/2015</time>


          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我是 Vim 的忠实用户，从开始编程起，就使用 Vim 作为编辑器。在我看来，Vim 的强大之处有三：</p>
<ol>
<li>快速定位；</li>
<li>宏；</li>
<li>不计其数的插件。</li>
</ol>
<p>在使用 Vim 的过程中，我从社区学习到很多有用的技巧，自己也总结和掌握了一些。正是这些技巧让我得以在个人的编程经验中，还算得心应手地使用 Vim。本文是我对自己平常使用的一些用法技巧的分享，这些技巧不借助任何插件，全部是 Vim 本身提供的功能。（当然这绝不是在否定插件的作用，只是说，编辑器本身可以提供或者达到的效果，则尽管用，keep it simple。）<br><a id="more"></a></p>
<h4 id="1-_快速_esc">1. 快速 esc</h4><ul>
<li>模式：insert</li>
<li>按键：<code>&lt;C-[&gt;</code></li>
<li>说明：返回到 normal 模式，等于按下 esc。</li>
</ul>
<h4 id="2-_翻页">2. 翻页</h4><ul>
<li>模式：normal</li>
<li>按键：<code>&lt;C-f&gt;</code> / <code>&lt;C-u&gt;</code></li>
<li>说明：向下/向上翻页。</li>
</ul>
<h4 id="3-_交换字符">3. 交换字符</h4><ul>
<li>模式：normal</li>
<li>按键：<code>xp</code></li>
<li>说明：交换两个字符位置。</li>
<li>引申：<code>ddp</code> 交换两行位置。</li>
</ul>
<h4 id="4-_搜索_word">4. 搜索 word</h4><ul>
<li>模式：normal</li>
<li>按键：<code>*</code></li>
<li>说明：光标在一个 word 中间时，按下星号 <code>*</code> 能向下搜索这个 word；之后再按 <code>n</code> 跳到下一个，<code>N</code> 跳到上一个匹配位置。</li>
<li>引申：井号 <code>#</code> 向上搜索这个 word。</li>
</ul>
<h4 id="5-_替换_word">5. 替换 word</h4><ul>
<li>模式：normal</li>
<li>按键：<code>cw</code></li>
<li>说明：替换当前 word，即删除当前 word 并进入 insert 模式。实际上，上述说法只适用于这种情况：光标处于 word 的开始字符处。如果光标处于 word 中间，那么该命令将删除光标至 word 结束字符处之间的字符，并进入 insert 模式。</li>
</ul>
<h4 id="6-_重复操作">6. 重复操作</h4><ul>
<li>模式：normal</li>
<li>按键：<code>.</code></li>
<li>说明：重复上一个操作。比如，技巧 4 中使用 <code>*</code> 或 <code>#</code> 搜索到的 word ，如果想替换这些 word ，那么可以使用 <code>cw</code> 替换掉，之后再按 <code>n</code>/<code>N</code> 跳到下一个希望替换的 word 那里，接着按 <code>.</code> 就会重复之前的替换了。</li>
</ul>
<h4 id="7-_全局替换">7. 全局替换</h4><ul>
<li>模式：normal</li>
<li>按键：<code>:g/pat1/s//pat2/g</code> / <code>:%s/pat1/pat2/g</code></li>
<li>说明：全局替换，将整个文档中的 <code>pat1</code> 全部替换为 <code>pat2</code>。</li>
</ul>
<h4 id="8-_局部替换">8. 局部替换</h4><ul>
<li>模式：visual</li>
<li>按键：<code>:s/pat1/pat2/g</code></li>
<li>说明：将<strong>选中区域内</strong>的 <code>pat1</code> 全部替换为 <code>pat2</code>。</li>
</ul>
<h4 id="9-_替换行">9. 替换行</h4><ul>
<li>模式：normal</li>
<li>按键：<code>cc</code> / <code>S</code></li>
<li>说明： 替换整行，也就是删除当前<strong>整行</strong>并进入 insert 模式。</li>
</ul>
<h4 id="10-_改变大小写">10. 改变大小写</h4><ul>
<li>模式：normal</li>
<li>按键：<code>~</code></li>
<li>说明：改变<strong>当前字符</strong>的大小写。在 visual 模式下，改变所选字符的大小写。</li>
<li>引申：<code>u</code> 和 <code>U</code> 分别将<strong>选中字符</strong>变为小写和大写。</li>
</ul>
<h4 id="11-_跳到上一位置">11. 跳到上一位置</h4><ul>
<li>模式：normal</li>
<li>按键：<code>`&#39;</code></li>
<li>说明： 跳到上一个位置，会更新 jump 的历史，也就是说，多次使用该命令会在两个位置之间跳来跳去。</li>
<li>引申：<code>&lt;C-o&gt;</code> 也可以跳到上一个位置，不过它不会更新 jump 历史，会一直跳到文件关闭为止。</li>
</ul>
<h4 id="12-_标记位置">12. 标记位置</h4><ul>
<li>模式：normal</li>
<li>按键：<code>ma</code></li>
<li>说明：将当前位置标记为 a，之后可以按 <code>`a</code> 跳到此位置。a 可以为其他字母。</li>
</ul>
<h4 id="13-_多行操作">13. 多行操作</h4><ul>
<li>模式：visual block（意即使用 <code>&lt;C-v&gt;</code> 选中的）</li>
<li>按键：<code>I</code></li>
<li>说明：选中字符区域后，按 <code>I</code> 进入 insert 模式（光标处在选中区域的第一行），输入一些字符，按 <code>esc</code> 返回到 normal 模式，则针对第一行所作的操作将反映到所有选中的行上。这一技巧常用于多行注释（当然也有不少插件的多行注释更好用）。</li>
</ul>
<h4 id="14-_redo">14. redo</h4><ul>
<li>模式：normal</li>
<li>按键：<code>&lt;C-r&gt;</code></li>
<li>说明：redo，重新应用 <code>u</code> 命令所撤销的操作。</li>
</ul>
<h4 id="15-_替换字符">15. 替换字符</h4><ul>
<li>模式：normal</li>
<li>按键：<code>r</code></li>
<li>说明：替换当前字符，比如 <code>ra</code> 可以将当前字符替换为 a。</li>
<li>引申：<code>cl</code> 可以删除当前字符并进入 insert 模式。</li>
</ul>
<h4 id="16-_快速缩进">16. 快速缩进</h4><ul>
<li>模式：visual</li>
<li>按键：<code>&gt;</code> / <code>&lt;</code></li>
<li>说明：向右/左缩进。</li>
<li>引申：mormal 模式可以 <code>&gt;&gt;</code> / <code>&lt;&lt;</code> 来分别向右/左缩进<strong>当前行</strong>。</li>
</ul>
<h4 id="17-_分割窗口">17. 分割窗口</h4><ul>
<li>模式：normal</li>
<li>按键：<code>:sp</code></li>
<li>说明：将当前窗口分割为两个，当然每个窗口的 buffer 还是同一个文件。</li>
</ul>
<h4 id="18-_括号跳转">18. 括号跳转</h4><ul>
<li>模式：normal</li>
<li>按键：<code>%</code></li>
<li>说明：当光标处字符为 <code>()[]{}</code> 中任意一个时，按下 <code>%</code> 可以跳到括号的另一半处。</li>
</ul>
<h4 id="19-_sudo_保存">19. sudo 保存</h4><ul>
<li>模式：normal</li>
<li>按键：<code>:w !sudo tee %</code></li>
<li>说明：不小心打开了一个需要 sudo 的文件，而且做了不少更改？这条命令可以挽救。完整解释可参看 <a href="http://stackoverflow.com/questions/2600783/how-does-the-vim-write-with-sudo-trick-work" target="_blank" rel="external">这里</a>。</li>
</ul>
<h4 id="20-_宏">20. 宏</h4><ul>
<li>模式：normal</li>
<li>按键：<code>q</code></li>
<li>说明：纪录宏。将多处相似的更改抽象为一个可共用的操作，能够节省大量时间。比如，按下 <code>qa</code> 开始记录，接着进行所需的操作，按下 <code>q</code> 结束。此时再到其他需要更改的区域，按下 <code>@a</code> 把刚才宏记录的操作应用到这一区域。另外，<code>n@a</code> 或 <code>@na</code> 将会把宏 <code>a</code> 重复 n 次，n 可以为任意数字。</li>
</ul>
<p>最后说一下关于 vimrc，个人愚见，别人的配置文件未必百分百适合自己，用一句时髦的话说，Vim 也是“需要调教”的。当然，一些公认的好习惯还是可以强迫自己去适应的，剩下的就需要自己慢慢摸索，慢慢总结了，最终找到自己觉得最舒服的使用方式。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hackll.com/2015/04/12/20-vim-tips/" data-id="ciagxywao00001ospofm98rqg" class="article-share-link">Share</a>
      
        <a href="http://hackll.com/2015/04/12/20-vim-tips/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vim/">vim</a></li></ul>


    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/04/25/introduce-http2/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Previous</strong>
      <div class="article-nav-title">
        
          HTTP/2 简介
        
      </div>
    </a>
  
  
    <a href="/2015/04/03/javascript-closure/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Next</strong>
      <div class="article-nav-title">理解 JavaScript 闭包</div>
    </a>
  
</nav>


  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <div><a rel="license" href="//creativecommons.org/licenses/by/4.0/" title="Creative Commons Attribution 4.0 International license"><img src="//i.creativecommons.org/l/by/4.0/88x31.png" alt="License"></a></div>
      &copy; 2015 Linghao Li<br>
      Powered by <a target="_blank" href="http://hexo.io">Hexo</a>, themed by <a target="_blank" href="https://github.com/llh911001/hexo-theme-lighting">Lighting</a>.
    </div>
  </div>
</footer>

    </div>
    
<script>
  var disqus_shortname = 'linghaosblog';
  
  //var disqus_url = 'http://hackll.com/2015/04/12/20-vim-tips/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="http://cdn.staticfile.org/jquery/2.1.1-rc2/jquery.min.js"></script>
<script src="http://cdn.staticfile.org/scrollReveal.js/0.1.2/scrollReveal.min.js"></script>

  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script>
  window.scrollReveal = new scrollReveal();
</script>

<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>
